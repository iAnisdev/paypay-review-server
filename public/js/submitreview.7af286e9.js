(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["submitreview"],{1681:function(e,t,i){},"16b7":function(e,t,i){"use strict";i("a9e3");var n=i("2b0e");t["a"]=n["a"].extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:function(){return{openTimeout:void 0,closeTimeout:void 0}},methods:{clearDelay:function(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay:function(e,t){var i=this;this.clearDelay();var n=parseInt(this["".concat(e,"Delay")],10);this["".concat(e,"Timeout")]=setTimeout(t||function(){i.isActive={open:!0,close:!1}[e]},n)}}})},"1d4d":function(e,t,i){"use strict";i("a9e3"),i("c96a"),i("d81d"),i("696f");var n=i("9d26"),r=i("a9ad"),a=i("16b7"),o=i("af2b"),s=i("5607"),l=i("2b0e"),u=l["a"].extend({name:"rippleable",directives:{ripple:s["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}}),c=i("7560"),h=i("80d2"),d=i("58df");t["a"]=Object(d["a"])(r["a"],a["a"],u,o["a"],c["a"]).extend({name:"v-rating",props:{backgroundColor:{type:String,default:"accent"},color:{type:String,default:"primary"},clearable:Boolean,dense:Boolean,emptyIcon:{type:String,default:"$ratingEmpty"},fullIcon:{type:String,default:"$ratingFull"},halfIcon:{type:String,default:"$ratingHalf"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,size:[Number,String],value:{type:Number,default:0},iconLabel:{type:String,default:"$vuetify.rating.ariaLabel.icon"}},data:function(){return{hoverIndex:-1,internalValue:this.value}},computed:{directives:function(){return this.readonly||!this.ripple?[]:[{name:"ripple",value:{circle:!0}}]},iconProps:function(){var e=this.$props,t=e.dark,i=e.large,n=e.light,r=e.medium,a=e.small,o=e.size,s=e.xLarge,l=e.xSmall;return{dark:t,large:i,light:n,medium:r,size:o,small:a,xLarge:s,xSmall:l}},isHovering:function(){return this.hover&&this.hoverIndex>=0}},watch:{internalValue:function(e){e!==this.value&&this.$emit("input",e)},value:function(e){this.internalValue=e}},methods:{createClickFn:function(e){var t=this;return function(i){if(!t.readonly){var n=t.genHoverIndex(i,e);t.clearable&&t.internalValue===n?t.internalValue=0:t.internalValue=n}}},createProps:function(e){var t={index:e,value:this.internalValue,click:this.createClickFn(e),isFilled:Math.floor(this.internalValue)>e,isHovered:Math.floor(this.hoverIndex)>e};return this.halfIncrements&&(t.isHalfHovered=!t.isHovered&&(this.hoverIndex-e)%1>0,t.isHalfFilled=!t.isFilled&&(this.internalValue-e)%1>0),t},genHoverIndex:function(e,t){var i=this.isHalfEvent(e);return this.halfIncrements&&this.$vuetify.rtl&&(i=!i),t+(i?.5:1)},getIconName:function(e){var t=this.isHovering?e.isHovered:e.isFilled,i=this.isHovering?e.isHalfHovered:e.isHalfFilled;return t?this.fullIcon:i?this.halfIcon:this.emptyIcon},getColor:function(e){if(this.isHovering){if(e.isHovered||e.isHalfHovered)return this.color}else if(e.isFilled||e.isHalfFilled)return this.color;return this.backgroundColor},isHalfEvent:function(e){if(this.halfIncrements){var t=e.target&&e.target.getBoundingClientRect();if(t&&e.pageX-t.left<t.width/2)return!0}return!1},onMouseEnter:function(e,t){var i=this;this.runDelay("open",(function(){i.hoverIndex=i.genHoverIndex(e,t)}))},onMouseLeave:function(){var e=this;this.runDelay("close",(function(){return e.hoverIndex=-1}))},genItem:function(e){var t=this,i=this.createProps(e);if(this.$scopedSlots.item)return this.$scopedSlots.item(i);var r={click:i.click};return this.hover&&(r.mouseenter=function(i){return t.onMouseEnter(i,e)},r.mouseleave=this.onMouseLeave,this.halfIncrements&&(r.mousemove=function(i){return t.onMouseEnter(i,e)})),this.$createElement(n["a"],this.setTextColor(this.getColor(i),{attrs:{"aria-label":this.$vuetify.lang.t(this.iconLabel,e+1,Number(this.length))},directives:this.directives,props:this.iconProps,on:r}),[this.getIconName(i)])}},render:function(e){var t=this,i=Object(h["h"])(Number(this.length)).map((function(e){return t.genItem(e)}));return e("div",{staticClass:"v-rating",class:{"v-rating--readonly":this.readonly,"v-rating--dense":this.dense}},i)}})},"696f":function(e,t,i){},"6a8e":function(e,t,i){},a844:function(e,t,i){"use strict";var n=i("5530"),r=(i("a9e3"),i("1681"),i("8654")),a=i("58df"),o=Object(a["a"])(r["a"]);t["a"]=o.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return Object(n["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},r["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var e=this.$refs.input;if(e){e.style.height="0";var t=e.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(i,t)+"px"}},genInput:function(){var e=r["a"].options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput:function(e){r["a"].options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},bdd0:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"pa-2 mt-5"},[i("v-rating",{attrs:{"background-color":"orange lighten-3",color:"orange",large:""},model:{value:e.review.rating,callback:function(t){e.$set(e.review,"rating",t)},expression:"review.rating"}}),i("v-textarea",{staticClass:"mt-3",attrs:{label:"Performance feedback",placeholder:"Please enter performance feedback",outlined:""},model:{value:e.review.feedback,callback:function(t){e.$set(e.review,"feedback",t)},expression:"review.feedback"}}),i("v-btn",{staticClass:"mt-4 submit-btn",attrs:{color:"success"},on:{click:e.postReview}},[e._v(" Post Review ")])],1)},r=[],a=i("5530"),o=(i("d3b7"),i("159b"),i("2f62")),s=i("8552"),l={data:function(){return{review:{rating:3,feedback:""},request:{}}},methods:Object(a["a"])(Object(a["a"])({},Object(o["b"])({loadRequest:"loadRequest",addPerformanceReview:"addPerformanceReview",patchReviewRequest:"patchReviewRequest"})),{},{postReview:function(){var e=this,t={rating:this.review.rating,feedback:this.review.feedback,reviewer:this.request.reviewer,reviewFor:this.request.reviewFor};s["a"].emitTriggerLoader(!0),this.addPerformanceReview(t).then((function(){return e.patchReviewRequest(e.request.id)})).then((function(){s["a"].emitTriggerSnackBar({type:"success",text:"Feedback submitted successfully"}),e.$router.push("/pending")})).catch((function(e){var t=e.response;t.data.errors?t.data.errors.errors.forEach((function(e){s["a"].emitTriggerSnackBar({type:"error",text:e.msg})})):s["a"].emitTriggerSnackBar({type:"error",text:t.data.message})})).finally((function(){s["a"].emitTriggerLoader(!1)}))},verifyRequest:function(){var e=this;this.loadRequest(this.$route.params.id).then((function(t){"pending"===t.status?e.request=t:(s["a"].emitTriggerSnackBar({type:"error",text:"Review Already submitted"}),e.$router.push("/pending"))})).catch((function(t){var i=t.response;s["a"].emitTriggerSnackBar({type:"error",text:i.data.message}),e.$router.push("/pending")}))}}),mounted:function(){this.verifyRequest()}},u=l,c=(i("f367"),i("2877")),h=i("6544"),d=i.n(h),f=i("8336"),v=i("1d4d"),p=i("a844"),g=Object(c["a"])(u,n,r,!1,null,"c0c17dc8",null);t["default"]=g.exports;d()(g,{VBtn:f["a"],VRating:v["a"],VTextarea:p["a"]})},f367:function(e,t,i){"use strict";i("6a8e")}}]);
//# sourceMappingURL=submitreview.7af286e9.js.map